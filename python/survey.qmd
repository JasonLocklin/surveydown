---
format: html
server: shiny
include-before-body: navigation.js
execute: 
  echo: false
---

```{python}
from shiny import render, ui, reactive
```

::: {#page-1}

# Welcome to my survey! 

Here is a question to get started 

```{python}
ui.input_radio_buttons(  
    "color",  
    "Do you want to take the red pill or the blue pill?",  
    {"blue": "Blue", "red": "Red"}
) 

ui.input_action_button("next1", "Next")  
```

:::

::: {#page-2}

## Tell us abour yourself!

```{python}
ui.input_radio_buttons( 
    "gender",  
    "Which best describes your gender?",
    {"female": "Female", "male": "Male", "opt_out": "Prefer not to say"}  
)  

ui.input_numeric("age", "What's your age?", 18, min=18, max=100)  

ui.input_action_button("next2", "Next")  
```

:::

```{python}
n_pages = 2

for i in range(1, n_pages):
    current_page = i
    
    @reactive.Effect
    def _():
        if input[f"next{current_page}"]:
            # Construct the JavaScript to hide the current page and show the next one
            js_code = f"""
            document.getElementById('page-{current_page}').style.display = 'none';
            document.getElementById('page-{current_page + 1}').style.display = 'block';
            """
            session.send_js(js_code)
```
